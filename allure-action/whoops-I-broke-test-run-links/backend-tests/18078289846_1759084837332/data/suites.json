{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"Service.Daemon specs.Integration Tests.All Tests","children":[{"name":"allows a websocket client to publish an MQTT message","uid":"630bf87471e5a2aa","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084806147,"stop":1759084813167,"duration":7020},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores the current set of running automations in sqlite","uid":"732f5c5e068b3807","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084807955,"stop":1759084813167,"duration":5212},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts any automations stored in the running table upon load","uid":"9f69360e92cf5042","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084808049,"stop":1759084813167,"duration":5118},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"updates stored automations when an automation is shut down","uid":"43416cd2d718bd44","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084808148,"stop":1759084813167,"duration":5019},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"sends device data over websockets","uid":"7440724eb32ba2a9","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084811156,"stop":1759084813167,"duration":2011},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores the current set of scheduled automations in sqlite","uid":"c5b33efcf4abbd70","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084812760,"stop":1759084813167,"duration":407},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts previously scheduled automations when starting","uid":"2f152fb09080947b","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084812959,"stop":1759084813167,"duration":208},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows scripts to register devices","uid":"8a7561596d05f66b","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084812960,"stop":1759084813166,"duration":206},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes Device and Group Registration entries upon cleanup","uid":"db0a69803d0b67fe","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084812992,"stop":1759084813166,"duration":174},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"subscribes to topic and receives topic messages, and removes subscription *internally* when automation is stopped","uid":"e8bff8c91d51ed70","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813002,"stop":1759084813166,"duration":164},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap for automations when they are not shut down via message","uid":"aeafcd33ca2016e","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813060,"stop":1759084813167,"duration":107},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap when stopping","uid":"ab261712d0e99b98","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813062,"stop":1759084813167,"duration":105},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores Schedule jobs when they come in, and removes then when Unscheduled","uid":"24bf835abfd01a19","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813062,"stop":1759084813167,"duration":105},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap for LuaScript automations as well after stopping","uid":"689f4cff5ea765e0","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813082,"stop":1759084813167,"duration":85},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts and shuts down a Lua script","uid":"449eb8df51817997","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813094,"stop":1759084813166,"duration":72},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"shuts previously running Automation when a duplicate is started","uid":"28f425b4bc2eb534","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813099,"stop":1759084813167,"duration":68},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"can send Daemon messages in Lua scripts","uid":"f045933586d21b17","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813101,"stop":1759084813166,"duration":65},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"sends a status message when Daemon.Status is received","uid":"8951e411fc9862f1","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813111,"stop":1759084813167,"duration":56},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows scripts to register groups","uid":"12778f20596a39b1","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813150,"stop":1759084813166,"duration":16},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"returns Lua exception info when a Lua script run fails","uid":"53fc460581ee4c","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813156,"stop":1759084813166,"duration":10},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"adds an entry to the ThreadMap List indexed by AutomationName","uid":"1c40b5330ac5e3d0","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813158,"stop":1759084813167,"duration":9},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows for device registration","uid":"13fdd7f66cce87fa","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813158,"stop":1759084813166,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows for group registration","uid":"732090dac9b2490f","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813159,"stop":1759084813167,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"retrieves dates for Sun events (rise & set)","uid":"999d8412aa4f959f","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759084813161,"stop":1759084813166,"duration":5},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8521b425d7221b45fdf8b1222dfdc585"},{"name":"Devices.Devices Spec.Unit Tests.All Tests","children":[{"name":"parses devices from the output of zigbee2mqtt/bridge/devices","uid":"c8626a668f8c23f8","parentUid":"1dc919e53a19c5c5840bdfeabb874408","status":"passed","time":{"start":1759084813165,"stop":1759084813166,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"Generates JSON Value-typed Devices for passing to Lua","uid":"22265fe09fd8809a","parentUid":"1dc919e53a19c5c5840bdfeabb874408","status":"passed","time":{"start":1759084813166,"stop":1759084813166,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1dc919e53a19c5c5840bdfeabb874408"},{"name":"date utility functions.TimeHelpers Spec.Unit Tests.All Tests","children":[{"name":"correctly generates sunrise and sunset values according to TZ env var","uid":"e57ea34605d4f75d","parentUid":"b283ca5a251535e0f40a3b7d2d492a3d","status":"passed","time":{"start":1759084813165,"stop":1759084813167,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"generates a valid cron-format schedule from parsed dates","uid":"2ee68cd2b876fb92","parentUid":"b283ca5a251535e0f40a3b7d2d492a3d","status":"passed","time":{"start":1759084813166,"stop":1759084813167,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b283ca5a251535e0f40a3b7d2d492a3d"},{"name":"Automation message parsing.Daemon.Messages Spec.Unit Tests.All Tests","children":[{"name":"correctly parses well-formed Automation messages","uid":"88ce5352d4fb2a11","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1759084813165,"stop":1759084813165,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"returns a Null Automation message when given an unparseable message","uid":"fdd42c3ecc18de77","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1759084813165,"stop":1759084813165,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"converts lower-case start terms to LuaScript AutomationNames","uid":"edb4a8fb35ecaf28","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1759084813166,"stop":1759084813166,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"9993fc48086a93eddc60b8a47a0090cb"},{"name":"Groups.Groups Spec.Unit Tests.All Tests","children":[{"name":"Generates JSON Value-typed Groups for passing to Lua","uid":"6b62412ed16a0335","parentUid":"8da1db5dba4897a39c64aacf763105d7","status":"passed","time":{"start":1759084813166,"stop":1759084813166,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"Parses groups from the output of zigbee2mqtt/bridge/groups","uid":"ee9fe20d9c4aba54","parentUid":"8da1db5dba4897a39c64aacf763105d7","status":"passed","time":{"start":1759084813166,"stop":1759084813166,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8da1db5dba4897a39c64aacf763105d7"},{"name":"Status message generation.MQTT Status Messages Spec.Unit Tests.All Tests","children":[{"name":"generates Status message from running and scheduled automations, and device/group data","uid":"9cd681c4ad1a061d","parentUid":"4e9bfa4c730e7858bd7618edac719519","status":"passed","time":{"start":1759084813167,"stop":1759084813167,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"4e9bfa4c730e7858bd7618edac719519"}]}
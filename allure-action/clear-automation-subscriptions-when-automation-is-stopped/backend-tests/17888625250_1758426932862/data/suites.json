{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"Service.Daemon specs.Integration Tests.All Tests","children":[{"name":"allows a websocket client to publish an MQTT message","uid":"a3a7a7177f7046dd","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426905289,"stop":1758426912312,"duration":7023},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores the current set of running automations in sqlite","uid":"6154c19137f8bc73","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426907095,"stop":1758426912311,"duration":5216},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts any automations stored in the running table upon load","uid":"875fb709a3b1a2fc","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426907187,"stop":1758426912311,"duration":5124},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"updates stored automations when an automation is shut down","uid":"21db8e9cda8dba00","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426907287,"stop":1758426912311,"duration":5024},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"sends device data over websockets","uid":"bec9c36aaed62be4","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426910298,"stop":1758426912311,"duration":2013},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores the current set of scheduled automations in sqlite","uid":"6bf715a2b2882641","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426911887,"stop":1758426912311,"duration":424},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts previously scheduled automations when starting","uid":"45da06139d7abb4","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912098,"stop":1758426912311,"duration":213},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows scripts to register devices","uid":"12c6b1008c66ae17","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912100,"stop":1758426912309,"duration":209},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes Device and Group Registration entries upon cleanup","uid":"b0e2f750e884e9c1","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912142,"stop":1758426912310,"duration":168},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"subscribes to topic and receives topic messages, and removes subscription *internally* when automation is stopped","uid":"4116460f79b8b891","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912146,"stop":1758426912310,"duration":164},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores Schedule jobs when they come in, and removes then when Unscheduled","uid":"66fea615629533bb","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912202,"stop":1758426912311,"duration":109},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap for automations when they are not shut down via message","uid":"a314b33012695630","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912202,"stop":1758426912311,"duration":109},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap when stopping","uid":"309d615b053f6819","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912203,"stop":1758426912310,"duration":107},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap for LuaScript automations as well after stopping","uid":"374ba639b07bbe52","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912224,"stop":1758426912311,"duration":87},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts and shuts down a Lua script","uid":"1c7880b1e54dea10","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912238,"stop":1758426912309,"duration":71},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"shuts previously running Automation when a duplicate is started","uid":"6a975644bf3aadf2","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912241,"stop":1758426912311,"duration":70},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"can send Daemon messages in Lua scripts","uid":"ded1b55e4ab2aabf","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912243,"stop":1758426912310,"duration":67},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"sends a status message when Daemon.Status is received","uid":"f30558a89a7a4085","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912253,"stop":1758426912311,"duration":58},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"returns Lua exception info when a Lua script run fails","uid":"ab19f6ffa5b1ee5c","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912294,"stop":1758426912309,"duration":15},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"adds an entry to the ThreadMap List indexed by AutomationName","uid":"efd3904b1c39b1fd","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912298,"stop":1758426912310,"duration":12},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows for device registration","uid":"42d22df089f9528f","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912299,"stop":1758426912310,"duration":11},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows for group registration","uid":"57040ad58185acfa","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912300,"stop":1758426912310,"duration":10},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows scripts to register groups","uid":"e9b4d2c727b95615","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912301,"stop":1758426912310,"duration":9},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"retrieves dates for Sun events (rise & set)","uid":"c4bebb0912df57c0","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1758426912302,"stop":1758426912310,"duration":8},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8521b425d7221b45fdf8b1222dfdc585"},{"name":"Devices.Devices Spec.Unit Tests.All Tests","children":[{"name":"parses devices from the output of zigbee2mqtt/bridge/devices","uid":"719c1b43f47a27de","parentUid":"1dc919e53a19c5c5840bdfeabb874408","status":"passed","time":{"start":1758426912308,"stop":1758426912309,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"Generates JSON Value-typed Devices for passing to Lua","uid":"c9e54df58349976c","parentUid":"1dc919e53a19c5c5840bdfeabb874408","status":"passed","time":{"start":1758426912309,"stop":1758426912309,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1dc919e53a19c5c5840bdfeabb874408"},{"name":"Automation message parsing.Daemon.Messages Spec.Unit Tests.All Tests","children":[{"name":"correctly parses well-formed Automation messages","uid":"a9820468848c7f87","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1758426912308,"stop":1758426912308,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"returns a Null Automation message when given an unparseable message","uid":"8f7e486e307b634d","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1758426912309,"stop":1758426912309,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"converts lower-case start terms to LuaScript AutomationNames","uid":"a31270a3b860f27f","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1758426912309,"stop":1758426912309,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"9993fc48086a93eddc60b8a47a0090cb"},{"name":"Groups.Groups Spec.Unit Tests.All Tests","children":[{"name":"Generates JSON Value-typed Groups for passing to Lua","uid":"9c6de375232aeb83","parentUid":"8da1db5dba4897a39c64aacf763105d7","status":"passed","time":{"start":1758426912309,"stop":1758426912309,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"Parses groups from the output of zigbee2mqtt/bridge/groups","uid":"49f3e2b66f5c055c","parentUid":"8da1db5dba4897a39c64aacf763105d7","status":"passed","time":{"start":1758426912309,"stop":1758426912309,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8da1db5dba4897a39c64aacf763105d7"},{"name":"date utility functions.TimeHelpers Spec.Unit Tests.All Tests","children":[{"name":"correctly generates sunrise and sunset values according to TZ env var","uid":"c74b52ef3176e6c1","parentUid":"b283ca5a251535e0f40a3b7d2d492a3d","status":"passed","time":{"start":1758426912310,"stop":1758426912312,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"generates a valid cron-format schedule from parsed dates","uid":"41ed04b21eb56f3a","parentUid":"b283ca5a251535e0f40a3b7d2d492a3d","status":"passed","time":{"start":1758426912311,"stop":1758426912312,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b283ca5a251535e0f40a3b7d2d492a3d"},{"name":"Status message generation.MQTT Status Messages Spec.Unit Tests.All Tests","children":[{"name":"generates Status message from running and scheduled automations, and device/group data","uid":"2e4b9a8697363c9c","parentUid":"4e9bfa4c730e7858bd7618edac719519","status":"passed","time":{"start":1758426912312,"stop":1758426912312,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"4e9bfa4c730e7858bd7618edac719519"}]}
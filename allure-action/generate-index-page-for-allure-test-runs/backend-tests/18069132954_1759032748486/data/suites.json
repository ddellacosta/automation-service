{"uid":"98d3104e051c652961429bf95fa0b5d6","name":"suites","children":[{"name":"Service.Daemon specs.Integration Tests.All Tests","children":[{"name":"allows a websocket client to publish an MQTT message","uid":"47a758d3401f540e","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032716249,"stop":1759032723271,"duration":7022},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores the current set of running automations in sqlite","uid":"f28ed5a93c4bbaf3","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032718055,"stop":1759032723271,"duration":5216},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts any automations stored in the running table upon load","uid":"40d4928c64e265e1","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032718148,"stop":1759032723271,"duration":5123},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"updates stored automations when an automation is shut down","uid":"9d9ea75c5cb48339","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032718250,"stop":1759032723271,"duration":5021},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"sends device data over websockets","uid":"71dae0cda17bc03","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032721257,"stop":1759032723271,"duration":2014},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores the current set of scheduled automations in sqlite","uid":"d7e8e201296e87ac","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032722863,"stop":1759032723271,"duration":408},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts previously scheduled automations when starting","uid":"821503090f57890f","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723060,"stop":1759032723271,"duration":211},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":1,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows scripts to register devices","uid":"7780c85e70c15963","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723061,"stop":1759032723270,"duration":209},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes Device and Group Registration entries upon cleanup","uid":"19476667d07f477a","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723103,"stop":1759032723270,"duration":167},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"subscribes to topic and receives topic messages, and removes subscription *internally* when automation is stopped","uid":"bfbd7e1fec392fce","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723104,"stop":1759032723270,"duration":166},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap for automations when they are not shut down via message","uid":"98aad439b70aa327","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723162,"stop":1759032723271,"duration":109},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"stores Schedule jobs when they come in, and removes then when Unscheduled","uid":"7f1912de5906d52","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723164,"stop":1759032723271,"duration":107},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap when stopping","uid":"df4e0e2ad8e51653","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723164,"stop":1759032723271,"duration":107},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"removes entries from ThreadMap for LuaScript automations as well after stopping","uid":"a22e96eb205234c6","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723184,"stop":1759032723271,"duration":87},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"starts and shuts down a Lua script","uid":"a5458d65d6d2d63f","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723196,"stop":1759032723270,"duration":74},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"shuts previously running Automation when a duplicate is started","uid":"2bcaf87dda9f3782","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723197,"stop":1759032723271,"duration":74},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"can send Daemon messages in Lua scripts","uid":"45dc01d850501922","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723204,"stop":1759032723270,"duration":66},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"sends a status message when Daemon.Status is received","uid":"1ba1d7547886d668","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723213,"stop":1759032723271,"duration":58},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"returns Lua exception info when a Lua script run fails","uid":"9f158802b2162f89","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723258,"stop":1759032723270,"duration":12},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows for device registration","uid":"8954c6d7b6ed0f0","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723260,"stop":1759032723270,"duration":10},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows for group registration","uid":"3152cd20c9050732","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723261,"stop":1759032723270,"duration":9},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"allows scripts to register groups","uid":"45c9d8fb54dc6ae0","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723261,"stop":1759032723270,"duration":9},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"adds an entry to the ThreadMap List indexed by AutomationName","uid":"b58b40ca25407087","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723261,"stop":1759032723270,"duration":9},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"retrieves dates for Sun events (rise & set)","uid":"c47d103c9e398fde","parentUid":"8521b425d7221b45fdf8b1222dfdc585","status":"passed","time":{"start":1759032723263,"stop":1759032723270,"duration":7},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8521b425d7221b45fdf8b1222dfdc585"},{"name":"Devices.Devices Spec.Unit Tests.All Tests","children":[{"name":"parses devices from the output of zigbee2mqtt/bridge/devices","uid":"1337aa997b47b6cb","parentUid":"1dc919e53a19c5c5840bdfeabb874408","status":"passed","time":{"start":1759032723268,"stop":1759032723269,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"Generates JSON Value-typed Devices for passing to Lua","uid":"6ae194017a3ddf8f","parentUid":"1dc919e53a19c5c5840bdfeabb874408","status":"passed","time":{"start":1759032723269,"stop":1759032723269,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"1dc919e53a19c5c5840bdfeabb874408"},{"name":"Automation message parsing.Daemon.Messages Spec.Unit Tests.All Tests","children":[{"name":"correctly parses well-formed Automation messages","uid":"e4dbc53cb7bf8224","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1759032723268,"stop":1759032723268,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"returns a Null Automation message when given an unparseable message","uid":"77f06fc2924c44c3","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1759032723269,"stop":1759032723269,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"converts lower-case start terms to LuaScript AutomationNames","uid":"b5c288275307960d","parentUid":"9993fc48086a93eddc60b8a47a0090cb","status":"passed","time":{"start":1759032723269,"stop":1759032723269,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"9993fc48086a93eddc60b8a47a0090cb"},{"name":"Groups.Groups Spec.Unit Tests.All Tests","children":[{"name":"Generates JSON Value-typed Groups for passing to Lua","uid":"776ab717b24433ff","parentUid":"8da1db5dba4897a39c64aacf763105d7","status":"passed","time":{"start":1759032723269,"stop":1759032723269,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"Parses groups from the output of zigbee2mqtt/bridge/groups","uid":"ec7d7baf0da4de72","parentUid":"8da1db5dba4897a39c64aacf763105d7","status":"passed","time":{"start":1759032723270,"stop":1759032723270,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"8da1db5dba4897a39c64aacf763105d7"},{"name":"date utility functions.TimeHelpers Spec.Unit Tests.All Tests","children":[{"name":"generates a valid cron-format schedule from parsed dates","uid":"1d9d9a9e4a76fb0a","parentUid":"b283ca5a251535e0f40a3b7d2d492a3d","status":"passed","time":{"start":1759032723270,"stop":1759032723271,"duration":1},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]},{"name":"correctly generates sunrise and sunset values according to TZ env var","uid":"7d672da8b3136c26","parentUid":"b283ca5a251535e0f40a3b7d2d492a3d","status":"passed","time":{"start":1759032723270,"stop":1759032723272,"duration":2},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"b283ca5a251535e0f40a3b7d2d492a3d"},{"name":"Status message generation.MQTT Status Messages Spec.Unit Tests.All Tests","children":[{"name":"generates Status message from running and scheduled automations, and device/group data","uid":"9d79c7f01f80e907","parentUid":"4e9bfa4c730e7858bd7618edac719519","status":"passed","time":{"start":1759032723271,"stop":1759032723271,"duration":0},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":[],"tags":[]}],"uid":"4e9bfa4c730e7858bd7618edac719519"}]}